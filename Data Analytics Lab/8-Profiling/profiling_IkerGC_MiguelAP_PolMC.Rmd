---
title: "Profiling"
author: "Miguel Albertí Pons, Iker González Cuellar, Pol Martínez Collado"
date: "28-02-22"
output:
  html_document: default
---

```{r}
#  Reading credsco2.txt
dd = read.table("_repository/credsco2.txt",header=T, check.names = F)

# Dimensions and summary of data
dim(dd)
summary(dd)

#Libraries
library(FactoMineR)
```

#### 1. Lea el fichero "churn.txt" y efectúe un "summary" de los datos. ¿Detecta algún error o inconsistencia?. Si es así, corríjalo.

```{r}
data = read.table("_repository/churn.txt",header=T, check.names = F)
summary(data)
```

#### 2. Especifique cuál es la variable de respuesta y cuáles son las explicativas y el tipo de todas ellas.

La variable de respuesta es "Baja", ya que es el factor que queremos analizar y poder predecir con el resto de variables, que serian entonces las variables explicativas.

En cuanto al tipo tenemos:

-   Variables contínuas: antig, Total_activo, Total_Plazo, Total_Inversion, Total_Seguros, Total_Vista, oper_caj_Libreta, oper_ven_Libreta, dif_CC, dif_Libreta, dif_Plazo, dif_Ahorro, dif_Largo_plazo, dif_Fondos_inv, dif_Seguros, dif_Planes_pension, dif_Hipoteca y dif_Prest_personales.

-    Variables categóricas: Baja, edatcat, sexo, Nomina, Pension, Debito_normal, Debito_aff, VISA, VISA_aff, MCard, Amex y dif_resid.

#### 3. Efectúe una gráfica de los datos: un diagrama de barras para las variables categóricas y un histograma para las variables continuas.

```{r}
#Variables categóricas
```

#### 4. Efectúe el "profiling" de las bajas (con la función catdes de la librería "FactoMineR"). Interprete el resultado.

```{r}

```

#### 5. Represente visualmente la relación de las variables explicativas con la variable de respuesta; para ello discretize las variables continuas (esto es, recodifíquelas según un cierto número de intervalos; tenga en cuenta el significado especial del valor 0 a la hora de establecer los intervalos de recodificación) y represente mediante barplots el porcentaje de baja de las modalidades de las variables categóricas (tanto las categóricas originales como las continuas recodificadas).

```{r}

```

#### 6. Suponga que quiere analizar la compra de un producto a partir del barrio de residencia (en clase alta o baja, indicador del poder adquisitivo del cliente). En un primer análisis se obtiene la siguiente tabla. 

#### En su opinión, ¿el poder adquisitivo del cliente, tiene alguna influencia sobre la compra o no del producto? (Responda sólo calculando las probabilidades, sin realizar la prueba de hipótesis de igualdad entre ambas probabilidades).  Un empleado senior de la compañía nos sugiere profundizar más en el análisis y tener en cuenta la edad de los clientes. Cruzando por edad (adulto o joven) los dos tipos de barrio mencionados, obtenemos las siguientes tablas:

#### ¿Tenía razón el empleado de que era conveniente tener en cuenta la edad?. ¿Cuál de los dos factores, el barrio de residencia o la edad, es el determinante en la compra del producto en cuestión?

```{r}

```
